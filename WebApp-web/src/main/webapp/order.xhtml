<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:p="http://primefaces.org/ui"
                template="/WEB-INF/templates/template.xhtml">

    <ui:param name="module" value="order" />

    <ui:define name="content">
        <h:form id="orderForm">

            <p:accordionPanel id="orderAccordionPanel" 
                              widgetVar="orderAccPanel" 
                              dynamic="true"
                              cache="true"
                              activeIndex="-1"
                              >

                <p:tab titletip="test tool tip"
                       title="Booth"
                       >
                    
                    <ui:include src="/WEB-INF/includes/productList.xhtml" >
                        <ui:param name="products" value="#{OrderControllerMB.getAllBoothProducts()}" />
                    </ui:include>

                </p:tab>
                <p:tab titletip="test tool tip"
                       title="Furniture"
                       >
                    <ui:include src="/WEB-INF/includes/productList.xhtml" >
                        <ui:param name="products" value="#{OrderControllerMB.getAllFurnitureProducts()}" />
                    </ui:include>

                </p:tab>
                <p:tab titletip="test tool tip"
                       title="Electronics"
                       >
                    <ui:include src="/WEB-INF/includes/productList.xhtml" >
                        <ui:param name="products" value="#{OrderControllerMB.getAllElectronicsProducts()}" />
                    </ui:include>

                </p:tab>
                <p:tab titletip="test tool tip"
                       title="Representatives"
                       >
                    
                    <p:dataTable value="#{OrderControllerMB.getAllOrderRepresentatives()}"
                                 var="row">
                            
                        <p:column>
                            <p:outputLabel value="#{row.representative.firstName}" />
                            <p:outputLabel value="#{row.representative.lastName}" />
                        </p:column>
                        <p:column>
                            <p:commandButton value="Add to order" 
                                             action="#{OrderControllerMB.addRepresentativeToOrder(row)}"
                                             process="@this"
                                             update="@form"
                                             disabled="#{not OrderControllerMB.getCanAddOrderRepresentativeToOrder(row)}"
                                             />
                        </p:column>
                        <p:column>
                            <h:outputLabel value="Add extras"  rendered="#{OrderControllerMB.getCanAddExtrasToRepresentative(row)}" />
                        </p:column>
                            
                            
                    </p:dataTable>
                </p:tab>
                <p:tab titletip="test tool tip"
                       title="Company extras"
                       >

                </p:tab>

            </p:accordionPanel>

        </h:form>
    </ui:define>
</ui:composition>




<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
    <f:view transient="true">
        <h:head>
            <f:facet name="first">
                <meta http-equiv="X-UA-Compatible" content="IE=edge" />
                <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
                <!--<meta name="viewport" content="width=device-width<meta name="viewport" content="width=1260, user-scalable=1, initial-scale=1"/>, initial-scale=0.65, maximum-scale=2.0, user-scalable=1"/>-->
                <!--<meta name="viewport" content="width=1260, user-scalable=1, initial-scale=1"/>-->
                <meta name="apple-mobile-web-app-capable" content="yes" />
                <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>

            </f:facet>
            <f:metadata>
                <f:event type="preRenderView" listener="#{SecurityMB.loginOnLoad()}" />
            </f:metadata>
            <title>NauSYS.app</title>
        </h:head>
        <h:body>

            <style>

                body{
                    margin: 0px !important;
                }
                .loginPanel{

                    position: absolute;
                    z-index: 15;
                    top: 50%;
                    left: 50%;
                    width: 650px;
                    margin: -100px 0 0 -150px;
                }
                .wrapper{
                    width: 100%;
                    width: 100vw;
                    height: 100vh;
                }

                .innerLoginPanel{
                    border: 2px solid black;
                    border-radius: 10px;
                    padding: 20px;
                    background-color: white;
                    width:  50%;
                }

                .container {
                    position: relative;
                }

                .center {
                    margin: 0;
                    position: absolute;
                    top: 45%;
                    left: 50%;
                    -ms-transform: translate(-50%, -50%);
                    transform: translate(-50%, -50%);
                }
                .imageSizer{
                    background-image: url(images/ice22.png);
                    background-position: center;
                    background-repeat: no-repeat;
                    background-size: cover;
                    height: 100%;
                }

                @media screen and (max-width : 751px) {
                    .center{
                        width: 70%;
                    }
                }
                @media screen and (max-width : 621px) {
                    .center{
                        width: 80%;
                    }
                }
                @media screen and (max-width : 521px) {
                    .center{
                        width: 100%;
                    }
                }

            </style>

            <h:form id="loginForm">

                <div class="imageSizer">
                    <div class="container wrapper">
                        <div class="center innerLoginPanel">
                            <p:tabView id="tabView">
                                <p:tab id="regUser" title="Registered user">
                                    <div>
                                        <p>Please provide your e-mail and we will send you login URL on you e-mail.</p>
                                    </div>
                                    <div style="padding: 10px;">

                                        <p:outputLabel value="Email: " />
                                        <p:inputText value="#{SecurityMB.email}" style="width: 90%;"/>
                                    </div>
                                    <div style="float: right;">

                                        <p:commandButton value="Send" action="#{SecurityMB.login()}" process="loginForm:tabView:regUser" />
                                    </div>
                                </p:tab>
                                <p:tab id="newUser" title="New user">
                                    <div>
                                        <p>Please fill your e-mail to complete registration!</p>
                                    </div>
                                    <div style="padding: 10px;">

                                        <p:outputLabel value="Email: " />
                                        <p:inputText id="test2" value="#{SecurityMB.email}" style="width: 90%;"/>
                                    </div>
                                    <div style="float: right;">

                                        <p:commandButton id="test3" value="Register" action="#{SecurityMB.login()}" process="loginForm:tabView:newUser" />
                                    </div>
                                </p:tab>
                            </p:tabView>

                        </div>
                    </div>
                </div>
            </h:form>
        </h:body>
    </f:view>
</html>

